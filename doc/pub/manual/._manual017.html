<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="DocOnce Description">
<meta name="keywords" content="doconce short explanation,demos,headlines,section headings,inline tagging,emphasized words,boldface words,verbatim text,inline comments,non-breaking space,nbsp,quotation syntax,non-breaking space,footnotes,cross referencing,labels,references,index,some index entry,main entry subentry,doconce format options,command-line options doconce format">

<title>DocOnce Description</title>

<!-- Bootstrap style: bootswatch_readable -->
<link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/readable/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [(' What Is DocOnce? ', 1, 'what:is:doconce', 'what:is:doconce'),
              (' Demos ', 2, None, '___sec1'),
              (' Markup Based on Special Lines ', 1, None, '___sec2'),
              (' Heading with title and author(s) ', 2, None, '___sec3'),
              (' Table of contents ', 2, None, '___sec4'),
              (' Section headings ', 2, None, '___sec5'),
              (' Figures ', 2, None, '___sec6'),
              (' Movies ', 2, None, '___sec7'),
              (' The Basic Command ', 3, None, '___sec8'),
              (' MP4, WebM, and Ogg Movies in HTML ', 3, None, '___sec9'),
              (' Movie Handling in Various Formats ', 3, None, '___sec10'),
              (' YouTube and Vimeo Movies ', 3, None, '___sec11'),
              (' Animation Based on Filename Generators ',
               3,
               None,
               '___sec12'),
              (' Copying Computer Code from Source Files ',
               2,
               None,
               '___sec13'),
              (' Inserting the Output from Operating System Commands ',
               2,
               None,
               '___sec14'),
              (' Comments ', 2, None, '___sec15'),
              (' Tables ', 2, None, '___sec16'),
              (' Basic Syntax ', 3, None, '___sec17'),
              (' Tables to/from CSV Data Files ', 3, None, '___sec18'),
              (' Lists ', 2, None, '___sec19'),
              (' Inline Tagging ', 1, 'inline:tagging', 'inline:tagging'),
              (' Emphasized Words ', 2, None, '___sec21'),
              (' Inline Verbatim Text ', 2, None, '___sec22'),
              (' Links to Web Addresses ', 2, None, '___sec23'),
              (' Links to Mail Addresses ', 2, None, '___sec24'),
              (' Links to Local Files ', 2, None, '___sec25'),
              (' Quotes ', 2, None, '___sec26'),
              (' Non-Breaking Space ', 2, None, '___sec27'),
              (' Horizontal rule ', 2, None, '___sec28'),
              (' Em-dash ', 2, None, '___sec29'),
              (' Ampersand ', 2, None, '___sec30'),
              (' Footnotes ', 2, None, '___sec31'),
              (' Inline Comments ', 2, None, '___sec32'),
              (' Inline Comments for Editing ', 2, None, '___sec33'),
              (' Forced Line Breaks ', 2, None, '___sec34'),
              (' Inline Mathematics ', 2, None, '___sec35'),
              (' Cross-Referencing ', 2, None, '___sec36'),
              (' Generalized Cross-Referencing ',
               2,
               'manual:genrefs',
               'manual:genrefs'),
              (' A Worked Example ', 3, None, '___sec38'),
              (' Index ', 2, None, '___sec39'),
              (' Emojis ', 2, None, '___sec40'),
              (' Environments ', 1, None, '___sec41'),
              (' Exercises, Problems, Projects, and Examples ',
               2,
               None,
               '___sec42'),
              (' List of Exercises, Problems, and Projects ',
               3,
               None,
               '___sec43'),
              (' Blocks of Verbatim Computer Code ',
               2,
               'sec:verbatim:blocks',
               'sec:verbatim:blocks'),
              (' LaTeX Blocks of Mathematical Text ',
               2,
               'mathtext',
               'mathtext'),
              (' Support of LaTeX Math in Various Output Formats ',
               3,
               None,
               '___sec46'),
              (' Dealing with Mathematics in Formats without LaTeX Math Support ',
               3,
               None,
               '___sec47'),
              (' Mathematics for PowerPoint/OpenOffice ',
               3,
               None,
               '___sec48'),
              (' Macros (Newcommands) ', 2, 'newcommands', 'newcommands'),
              (' Guidelines for LaTeX Writers ', 2, None, '___sec50'),
              (' Typesetting of Algorithms ', 2, None, '___sec51'),
              (' Admonitions ', 2, None, '___sec52'),
              (' Examples on Admonition Types ', 3, None, '___sec53'),
              (' Layout of admonitions in HTML ', 3, None, '___sec54'),
              (' Layout of admonitions in LaTeX ', 3, None, '___sec55'),
              (' LaTeX code environments inside admonitions ',
               3,
               None,
               '___sec56'),
              (' The Box Environment ', 3, None, '___sec57'),
              (' Bibliography (References) ', 1, None, '___sec58'),
              (' Importing your data to the Publish database ',
               2,
               None,
               '___sec59'),
              (' Requirements to input data ', 2, None, '___sec60'),
              (' Adding new references to the database ',
               2,
               None,
               '___sec61'),
              (' Exporting the database ', 2, None, '___sec62'),
              (' Referring to publications ', 2, None, '___sec63'),
              (' Specifying the Publish database ', 2, None, '___sec64'),
              (' LaTeX Bibliography Style ', 2, None, '___sec65'),
              (' Preprocessing and Postprocessing ', 1, None, '___sec66'),
              (' The Preprocess and Mako Preprocessors ',
               2,
               None,
               '___sec67'),
              (' Splitting Documents into Smaller Pieces ',
               2,
               None,
               '___sec68'),
              (' Writing Slides ', 1, None, '___sec69'),
              (' Overview ', 2, None, '___sec70'),
              (' Slide Elements ', 2, None, '___sec71'),
              (' Title page ', 3, None, '___sec72'),
              (' Parts page ', 3, None, '___sec73'),
              (' Standard bullet list page ', 3, None, '___sec74'),
              (' Equations, movies, figures ', 3, None, '___sec75'),
              (' HTML5 Slides ', 2, None, '___sec76'),
              (' Potential Problems ', 3, None, '___sec77'),
              (' LaTeX Beamer Slides ', 2, None, '___sec78'),
              (' Themes ', 3, None, '___sec79'),
              (' Pop of items and blocks ', 3, None, '___sec80'),
              (' Misc ', 1, None, '___sec81'),
              (' Missing Features ', 2, None, '___sec82'),
              (' Emacs DocOnce Formatter ',
               2,
               'emacs:doconce',
               'emacs:doconce'),
              (' Mako Programming ', 1, 'manual:mako', 'manual:mako'),
              (' The Basics of Mako ', 2, None, '___sec85'),
              (' Debugging Python code in Mako ',
               2,
               'mako:py:debugging',
               'mako:py:debugging'),
              (' Example: Executing Python and using SymPy Objects in LaTeX ',
               2,
               None,
               '___sec87'),
              (' Example: Extending Tables to Handle Figures ',
               2,
               'manual:tables:wfigs',
               'manual:tables:wfigs'),
              (' Solution for LaTeX and HTML ', 3, None, '___sec89'),
              (' Generating the Entire Table ', 3, None, '___sec90'),
              (' Generating the Entire Table in a Native Format via Mako ',
               3,
               None,
               '___sec91'),
              (' Generating the Entire Table in a Native Format as a Post Process ',
               3,
               None,
               '___sec92'),
              (' Example: Defining a Theorem Environment ',
               2,
               'manual:theorem:envir',
               'manual:theorem:envir'),
              (' Tools for Writing DocOnce Documents ', 2, None, '___sec94'),
              (' Debugging ', 2, None, '___sec95'),
              (' From DocOnce to Other Formats ',
               1,
               'doconce2formats',
               'doconce2formats'),
              (' Generating a makefile ', 2, None, '___sec97'),
              (' Preprocessing ', 2, None, '___sec98'),
              (' Removal of inline comments ', 2, None, '___sec99'),
              (' Notes ', 2, None, '___sec100'),
              (' Demo of different formats ', 2, None, '___sec101'),
              (' HTML ', 2, None, '___sec102'),
              (' Basics ', 3, None, '___sec103'),
              (' Typesetting of Code ', 3, None, '___sec104'),
              (' Handling of Movies ', 3, None, '___sec105'),
              (' HTML Styles ', 3, None, '___sec106'),
              (' HTML templates ', 3, None, '___sec107'),
              (' The HTML File Collection ', 3, None, '___sec108'),
              (' Filenames ', 3, None, '___sec109'),
              (' Blog Posts ', 2, None, '___sec110'),
              (' Pandoc and Markdown ', 2, None, '___sec111'),
              (' Markdown to HTML conversion ', 3, None, '___sec112'),
              (' Using Pandoc to go from LaTeX to MS Word or HTML ',
               3,
               None,
               '___sec113'),
              (' Strict Markdown ', 3, None, '___sec114'),
              (' GitHub-flavored Markdown ', 3, None, '___sec115'),
              (' MultiMarkdown ', 3, None, '___sec116'),
              (' Strapdown rendering of Markdown text ',
               3,
               None,
               '___sec117'),
              (' LaTeX ', 2, None, '___sec118'),
              (' PDFLaTeX ', 2, None, '___sec119'),
              (' XeLaTeX ', 2, None, '___sec120'),
              (' From PDF to e-book formats ', 2, None, '___sec121'),
              (' Microsoft Word or LibreOffice ', 2, None, '___sec122'),
              (' Plain ASCII Text ', 2, None, '___sec123'),
              (' reStructuredText ', 2, None, '___sec124'),
              (' Sphinx ', 2, None, '___sec125'),
              (' The manual Sphinx procedure ', 3, None, '___sec126'),
              (' Wiki Formats ', 2, None, '___sec127'),
              (' Google Docs ', 2, None, '___sec128'),
              (' Tweaking the DocOnce Output ', 2, None, '___sec129'),
              (' Options for the `doconce` commands ', 1, None, '___sec130'),
              (' `doconce format` command-line options ',
               2,
               None,
               '___sec131'),
              (' Installation of DocOnce and its Dependencies ',
               1,
               'install:doconce',
               'install:doconce'),
              (' DocOnce ', 2, None, '___sec133'),
              (' Dependencies ', 2, None, '___sec134'),
              (' Preprocessors ', 3, None, '___sec135'),
              (' Image file handling ', 3, None, '___sec136'),
              (' Spellcheck ', 3, None, '___sec137'),
              (' Bibliography ', 3, None, '___sec138'),
              (' Ptex2tex for LaTeX Output ', 3, None, '___sec139'),
              (' LaTeX packages ', 3, None, '___sec140'),
              (' reStructuredText (reST) Output ', 3, None, '___sec141'),
              (' Sphinx Output ', 3, None, '___sec142'),
              (' Markdown and Pandoc Output ', 3, None, '___sec143'),
              (' Epydoc Output ', 3, None, '___sec144'),
              (' Analyzing file differences ', 3, None, '___sec145'),
              (' Quick Debian/Ubuntu Install ',
               2,
               'install:debian:script',
               'install:debian:script'),
              (' Basic Parsing Ideas ', 1, None, '___sec147'),
              (' Typesetting of Function Arguments, Return Values, and Variables ',
               2,
               None,
               '___sec148'),
              (' References ', 1, None, '___sec149')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="manual.html">DocOnce Description</a>
  </div>
  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="._manual000.html#what:is:doconce" style="font-size: 80%;">What Is DocOnce?</a></li>
     <!-- navigation toc: --> <li><a href="._manual003.html#___sec2" style="font-size: 80%;">Markup Based on Special Lines</a></li>
     <!-- navigation toc: --> <li><a href="._manual010.html#inline:tagging" style="font-size: 80%;">Inline Tagging</a></li>
     <!-- navigation toc: --> <li><a href="._manual013.html#___sec41" style="font-size: 80%;">Environments</a></li>
     <!-- navigation toc: --> <li><a href="#___sec58" style="font-size: 80%;">Bibliography (References)</a></li>
     <!-- navigation toc: --> <li><a href="._manual018.html#___sec66" style="font-size: 80%;">Preprocessing and Postprocessing</a></li>
     <!-- navigation toc: --> <li><a href="._manual020.html#___sec69" style="font-size: 80%;">Writing Slides</a></li>
     <!-- navigation toc: --> <li><a href="._manual021.html#___sec81" style="font-size: 80%;">Misc</a></li>
     <!-- navigation toc: --> <li><a href="._manual023.html#manual:mako" style="font-size: 80%;">Mako Programming</a></li>
     <!-- navigation toc: --> <li><a href="._manual028.html#doconce2formats" style="font-size: 80%;">From DocOnce to Other Formats</a></li>
     <!-- navigation toc: --> <li><a href="._manual028.html#___sec130" style="font-size: 80%;">Options for the `doconce` commands</a></li>
     <!-- navigation toc: --> <li><a href="._manual029.html#install:doconce" style="font-size: 80%;">Installation of DocOnce and its Dependencies</a></li>
     <!-- navigation toc: --> <li><a href="._manual029.html#___sec147" style="font-size: 80%;">Basic Parsing Ideas</a></li>
     <!-- navigation toc: --> <li><a href="._manual029.html#___sec149" style="font-size: 80%;">References</a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<a name="part0017"></a>
<!-- !split -->

<h2 id="___sec52">Admonitions <a name="___sec52"></a></h2>

<p>
DocOnce offers strong support for admonition environments, such
as warning boxes, notification boxes, question boxes,
and summary boxes. The boxes normally have an icon, a heading,
and may also have a background color. A special box, the block,
has never any icon and can be used when an icon would be disturbing
or misleading.

<h3 id="___sec53">Examples on Admonition Types <a name="___sec53"></a></h3>

<p>
The following admonition environments are available:
<code>block</code>, <code>warning</code>, <code>notice</code>, <code>question</code>, and <code>summary</code>.
The box is defined by begin and end tags such as <code>!bnotice</code> and <code>!enotice</code>.
The title of the box is fully customizable.

<p>
Here are a few examples:

<p>

<!-- code=doconce (!bc do) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">!bwarning
Here is a warning!
!ewarning

!bnotice
This is a notice box with default title.
!enotice

!bnotice Hint
A *Hint* or *Tip* box can use the `notice` box.
!enotice

!bquestion
How many admonition types are there in DocOnce?
!equestion

!bblock This is a block.
A block has never any icon. A block has never any icon,
but may feature a title. It is often used in slides.
!eblock

!bnotice Going deeper
This is text meant to provide more details. The box has the
layout of the notice box, but a custom title, here *Going deeper*.
!enotice

Finally some summary:

!bsummary
The main message is to utilize the admonition styles for
marking different parts of the text
!esummary
</pre></div>
<p>
The above DocOnce code is in the present format rendered as

<p>
<div class="alert alert-block alert-danger alert-text-normal"><b>Warning.</b>
Here is a warning!
</div>


<p>
<div class="alert alert-block alert-success alert-text-normal"><b>Notice.</b>
This is a notice box with default title.
</div>


<p>
<div class="alert alert-block alert-success alert-text-normal"><b>Hint.</b>
A <em>Hint</em> or <em>Tip</em> box can, e.g., use the <code>notice</code> box.
</div>


<p>
<div class="alert alert-block alert-info alert-text-normal"><b>Question.</b>
How many admonition types are there in DocOnce?
</div>


<p>
<div class="alert alert-block alert-success alert-text-normal"><b>This is a block.</b>
A block has never any icon. A block has never any icon,
but may feature a title. It is often used in slides.
</div>


<p>
<div class="alert alert-block alert-success alert-text-normal"><b>Going deeper.</b>
This is text meant to provide more details. The box has the
layout of the notice box, but a custom title, here <em>Going deeper</em>.
</div>


<p>
Finally some summary:

<p>
<div class="alert alert-block alert-warning alert-text-normal"><b>Summary.</b>
The main message is to utilize the admonition styles for
marking different parts of the text
</div>


<p>
The layout of admonitions depend on the format.  In the <code>rst</code> and
<code>sphinx</code> formats one applies the native admonitions, but in <code>sphinx</code>
the <code>automake_sphinx.py</code> script manipulates the HTML file to set a
gray background for all admonitions.  In <code>html</code>, <code>latex</code> and
<code>pdflatex</code> there is quite some functionality to control the layout of
admonitions.

<h3 id="___sec54">Layout of admonitions in HTML <a name="___sec54"></a></h3>

<p>
The command-line argument <code>--html_admon</code> sets the admonition style
for the <code>html</code> format:

<ul>
 <li> <code>--html_admon=gray</code> for
   icons with gray background and small font,</li>
 <li> <code>--html_admon=yellow</code>
   and <code>--html_admon=apricot</code> are similar,
   but the icons and colors are different,</li>
 <li> <code>--html_admon=colors</code> has quite bright colors
   as backgrounds for the different admonitions,</li>
 <li> <code>--html_admon=lyx</code>
   gives a white background and small icons,</li>
 <li> <code>--html_admon=bootstrap_alert</code> gives the common colored admonition
   boxes associated with the Bootstrap HTML styles (only effective
   if <code>--html_style=boots*</code>),</li>
 <li> <code>--html_admon=bootstrap_panel</code> applies the panel construction
   in Bootstrap to make admonition boxes with (normally) white background
   but a colored background for the title (only effective
   if <code>--html_style=boots*</code>),</li>
 <li> <code>--html_admon=paragraph</code> results in a simple paragraph with the
   admon title as heading.</li>
</ul>

The options <code>--html_admon_bg_color=...</code> and <code>--html_admon_bd_color=...</code>
can be used to override the default background and boundary frame colors
of the admon styles (respectively). These options have only effect
for the <code>apricot</code>, <code>yellow</code>, and <code>gray</code> styles.

<p>
Some recommended combinations for admonitions in HTML are

<ul>
 <li> <code>--html_style=bloodish</code>, <code>--html_admon=gray</code>, <code>--pygments_html_style=none</code> or
   <code>--pygments_html_style=default</code></li>
 <li> <code>--html_style=blueish2</code>, <code>--html_admon=yellow</code>, <code>--pygments_html_style=none</code> or <code>--pygments_html_style=default</code></li>
 <li> <code>--html_style=boots*</code>, <code>--html_admon=bootstrap_alert</code> or <code>--html_admon=bootstrap_panel</code></li>
</ul>

<h3 id="___sec55">Layout of admonitions in LaTeX <a name="___sec55"></a></h3>

<p>
In <code>latex</code> and <code>pdflatex</code>, the type of admonition style is set by
the command-line option <code>--latex_admon=</code>.
Several values are available:

<ul>
 <li> <code>paragraph</code> is the simplest type of admonition and typeset
   as plain text with an optional paragraph heading.</li>
 <li> <code>colors1</code> (inspired by the original NumPy User Guide in LaTeX/PDF)
   applies different colors for
   the different admons with an embedded icon.</li>
 <li> <code>colors2</code> is like <code>colors1</code> but the text is wrapped around the icon.</li>
 <li> <code>mdfbox</code> is the default and gives rounded white boxes with a potential
   title and no icon (using the very flexible <code>mdframed</code> packaged in LaTeX).</li>
 <li> <code>graybox2</code> has square corners, gray background, and is narrower
   than <code>mdfbox</code>. One special feature of <code>graybox2</code> is the summary
   admon, which has a different look with horizontal rules only,
   and for A4 format, the summary box is half of the text width and
   wrapped with running text around (if it does not contain verbatim text,
   in that case the standard <code>graybox2</code> style is used). This small
   summary box is effective in proposals to disperse small paragraphs
   of key points around.</li>
 <li> <code>grayicon</code> has icons and a light gray background.</li>
 <li> <code>yellowicon</code> has icons and a light yellow background.</li>
</ul>

There is also an option <code>--latex_admon_color=...</code> that can be used
to override the default color. Values are either saturated colors
like <code>gray!10</code> or an RGB tuple <code>0.95,0.91,0.97</code>. The chosen color
replaces all default colors for all admon styles except <code>paragraph</code>.
For example, an oval gray box is produced by <code>--latex_admon=mdfbox</code>
and <code>'--latex_admon_color=gray!10'</code> (note the quotes: they are necessary
to avoid a Bash error due to the exclamation mark in the color
specification).

<p>
The <code>mdfbox</code> admonition styles has boxes with many possibilities for
customization by editing the <code>.tex</code> file. For example, <code>linecolor</code>
sets the color of the frame border and <code>frametitlebackgroundcolor</code>
sets the background color of the title area. A dark blue frame and
a light blue background for the title is produced by this automatic
edit:

<p>

<!-- code=bash (!bc shpro) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">doconce replace <span style="color: #BA2121">&#39;linecolor=black,&#39;</span> <span style="color: #BA2121">&#39;linecolor=darkblue,&#39;</span> mydoc.tex
doconce subst <span style="color: #BA2121">&#39;frametitlebackgroundcolor=.*?,&#39;</span> &#39;<span style="color: #19177C">frametitlebackgroundcolor</span><span style="color: #666666">=</span>blue!5 mydoc.tex
</pre></div>
<p>
Admonition titles without a period, exclamation mark, or colon at the end
will by default get a period at the end. For some LaTeX admonitions
(e.g., <code>mdfbox</code>), it may be natural to view the title with a heading
<em>without</em> any period. The command-line option <code>--latex_admon_title_no_period</code>
avoids appending a period.

<h3 id="___sec56">LaTeX code environments inside admonitions <a name="___sec56"></a></h3>

<p>
Sometimes one sets a special background color in the admonitions, and
colored code blocks, which look fine in the running text, may then
have inappropriate colors inside admonitions. The option
<code>--latex_admon_envir_map=...</code> is used to map an environment (usually
for code) to a new style inside admonitions. Specifying a number,
say 2, as in <code>--latex_admon_envir_map=2</code>, appends the number
to all environments inside admonitions, so <code>!bc pycod</code> becomes
effectively <code>!bc pycod2</code>.
One can then in <code>doconce ptex2tex</code> (or in the <code>ptex2tex</code> configuration
file) specify the typesetting
of the <code>pycod2</code> environment.
Otherwise the specification must be a mapping for each envir
that should be changed inside the admons:

<p>

<!-- code=text typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">--latex_admon_envir_map=pycod-pycod_yellow,fpro-fpro2
</pre></div>
<p>
i.e., a from-to, from-to type of syntax. In this particular example,
the <code>!bc pycod</code> environment becomes <code>!bc pycod_yellow</code> and
<code>!bc fpro</code> becomes <code>!bc fpro2</code> inside admonitions.

<h3 id="___sec57">The Box Environment <a name="___sec57"></a></h3>

<p>
A plain box without any title or colored background,
just a rectangular frame, is also
available. The syntax goes like

<p>

<!-- code=doconce (!bc do) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">!bbox
!bt
\[ \nabla\cdot\boldsymbol{u} = 0  \quad\hbox{(mass balance)}\]
!et
!ebox
</pre></div>
<p>
resulting in

<p>

<!-- begin box -->
<div style="width: 95%; padding: 10px; border: 1px solid #000; border-radius: 4px;">
$$ \nabla\cdot\boldsymbol{u} = 0\quad\hbox{(mass balance)}$$
</div>
<!-- end box -->


<p>
Admonitions are usually used to typeset something that should be distinct
from the running text: a warning, a remark, a notification, a question,
a summary, while a box is often used to highlight a key finding
in the running text: an equation, a hypothesis, a theorem, a
rule, or a conclusion.

<h1 id="___sec58">Bibliography (References) <a name="___sec58"></a></h1>

<p>
DocOnce applies the software tool <a href="https://bitbucket.org/logg/publish" target="_self">Publish</a> to handle the bibliography in a
document. With Publish it is easy to import BibTeX data and maintain a
database in a clean, self-explanatory textual format. From the Publish
format it is easy to go BibTeX and reST or straightforward DocOnce
typesetting (and from there to HTML, plain text, wiki formats, and so
on).

<p>
Installing Publish is trivial: either do

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; pip install -e \
   hg+https://bitbucket.org/logg/publish#egg=publish#egg=publish
</pre></div>
<p>
or checkout the code on
<a href="https://bitbucket.org/logg/publish" target="_self"><tt>bitbucket.org</tt></a>:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; hg clone https://bitbucket.org/logg/publish
Terminal&gt; cd publish
Terminal&gt; sudo python setup.py install
</pre></div>

<h2 id="___sec59">Importing your data to the Publish database <a name="___sec59"></a></h2>

<p>
Many scientists have their bibliographic data in the BibTex format. Here we
assume that you have two files, <code>refs1.bib</code> and <code>refs2.bib</code>. These can
be imported to a Publish database, residing in the file <code>papers.pub</code>,
by the commands

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">publish import refs1.bib
publish import refs2.bib
</pre></div>
<p>
During import, Publish may ask you for accepting the name of new
institutions or journals. Publish already have a database of journals
and institutions/departments, but when you add new, you also get
a file <code>venues.list</code> (in the current working directory) which will be used
for future imports in this directory. Make sure you store <code>publish.pub</code>
and <code>venues.list</code> along with your DocOnce document files (e.g., add them to
your version control system).

<h2 id="___sec60">Requirements to input data <a name="___sec60"></a></h2>

<p>
<div class="alert alert-block alert-success alert-text-normal"><b>Notice.</b>
Note that Publish only accepts BibTeX files where the keys (author,
title, etc.) are in lower case and where the data are enclosed in
curly braces. You may need to edit your BibTeX files to meet this
demand.
</div>


<p>
The utility <code>doconce fix_bibtex4publish file.bib</code> fixes several known
issues with BibTeX files such that Publish has a better chance of
accepting the entries. Run this utility first, then run Publish,
respond to any requirements that Publish spits out, remove <code>papers.pub</code>
if it exists, and run the import statements again.

<p>
Although references are visible as numbers only in the
output, it is recommended to have apply a nice, consistent
typesetting of your keys. It is suggested to use the following scheme:

<p>

<!-- code=doconce (!bc do) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Langtangen_2003a          # single author
Langtangen_Pedersen_2002  # two authors
Langtangen_et_al_2002     # three or more authors
</pre></div>
<p>
One can add a, b, c, and so forth if several keys feature the same
authors and year.

<h2 id="___sec61">Adding new references to the database <a name="___sec61"></a></h2>

<p>
When you get some new BibTeX references you simply put them in
a file, say <code>refs3.pub</code> and run the <code>publish import refs3.pub</code> command
to update the database. You may also consider editing the <code>papers.pub</code>
file directly when adding new references.

<h2 id="___sec62">Exporting the database <a name="___sec62"></a></h2>

<p>
Export of everything in the database to
BibTeX is done by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">publish export mybibtexfile.bib
</pre></div>
<p>
You can easily export subsets of the database, e.g., only papers associated
with a particular author (the Publish manual has details on how this is
done). DocOnce will automatically export the database to BibTeX if
the output format is <code>latex</code> or <code>pdflatex</code>.

<h2 id="___sec63">Referring to publications <a name="___sec63"></a></h2>

<p>
We use the command

<p>

<!-- code=doconce (!bc do) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">cite{key}
</pre></div>
<p>
to refer to a publication with bibliographic key <code>key</code>.
Here is an example: <a href="._manual029.html#Langtangen_Pedersen_2002">[4]</a> discussed propagation of
large destructive water waves, <a href="._manual029.html#Langtangen_et_al_2002">[5]</a> gave
an overview of numerical methods for solving the Navier-Stokes equations,
while the use of Backward Kolmogorov equations for analyzing
random vibrations was investigated in <a href="._manual029.html#Langtangen_1994a">[6]</a>.
The book chapter <a href="._manual029.html#Mardal_et_al_2003a">[7]</a> contains information on
C++ software tools for programming multigrid methods. A real retro
reference is <a href="._manual029.html#Langtangen_1988d">[8]</a> about a big FORTRAN package.
Multiple references are also possible, e.g., see
<a href="._manual029.html#Langtangen_Pedersen_2002">[4]</a> <a href="._manual029.html#Mardal_et_al_2003a">[7]</a>.

<p>
A LaTeX-style cite command with additional detailed reference is also possible,

<p>

<!-- code=doconce (!bc do) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">cite[details]{key}
</pre></div>
<p>
for example as in <a href="._manual029.html#Langtangen_et_al_2002">[5]</a> (Section 2)
or <a href="._manual029.html#Langtangen_et_al_2002">[5]</a> (Equation (4.2)).

<p>
In LaTeX, the <code>cite</code> command is directly translated to the
corresponding LaTeX version of the command with a backslash; in reST
and Sphinx the citations becomes links, with the citation keys as
names; in HTML the citations are numbered from 1, 2, and so forth
according to their appearance, and the numbers appear as links; while
in other formats the citations are simply the keys inside square
brackets and the corresponding references are listed in the order they
are cited.

<h2 id="___sec64">Specifying the Publish database <a name="___sec64"></a></h2>

<p>
The specification of the Publish database file in the DocOnce document
is done one a line containing <code>BIBFILE: papers.pub</code> (you may give
the database file another name and store it in another directory).
The references will be inserted at the place where this command appears.
Before the command you will often want to have a headline with
&quot;References&quot;, &quot;Bibliography&quot;, or similar.
Here is an example:

<p>

<!-- code=doconce (!bc do) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #000080; font-weight: bold">======= References =======</span>

BIBFILE: papers.pub
</pre></div>
<p>
In LaTeX and pdfLaTeX the <code>papers.pub</code> file is exported to BibTeX format
and included in the document, while in all other formats, suitable
text is produced from the database.

<h2 id="___sec65">LaTeX Bibliography Style <a name="___sec65"></a></h2>

<p>
The bibliography style is &quot;plain&quot; in LaTeX output. To change this, just
edit the <code>.p.tex</code> file. For example,

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">doconce format latex mydoc
doconce replace &#39;bibliographystyle{plain}&#39; &#39;bibliographystyle{abbrev}&#39; mydoc.p.tex
</pre></div>
<p>
<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pager">
  <li class="previous">
    <a href="._manual016.html">&larr; Prev</a>
  </li>
  <li class="next">
    <a href="._manual018.html">Next &rarr;</a>
  </li>
</ul>
<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


</body>
</html>
    

