<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="DocOnce Description">
<meta name="keywords" content="doconce short explanation,demos,headlines,section headings,inline tagging,emphasized words,boldface words,verbatim text,inline comments,non-breaking space,nbsp,quotation syntax,non-breaking space,footnotes,cross referencing,labels,references,index,some index entry,main entry subentry,doconce format options,command-line options doconce format">

<title>DocOnce Description</title>

<!-- Bootstrap style: bootswatch_readable -->
<link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/readable/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [(' What Is DocOnce? ', 1, 'what:is:doconce', 'what:is:doconce'),
              (' Demos ', 2, None, '___sec1'),
              (' Markup Based on Special Lines ', 1, None, '___sec2'),
              (' Heading with title and author(s) ', 2, None, '___sec3'),
              (' Table of contents ', 2, None, '___sec4'),
              (' Section headings ', 2, None, '___sec5'),
              (' Figures ', 2, None, '___sec6'),
              (' Movies ', 2, None, '___sec7'),
              (' The Basic Command ', 3, None, '___sec8'),
              (' MP4, WebM, and Ogg Movies in HTML ', 3, None, '___sec9'),
              (' Movie Handling in Various Formats ', 3, None, '___sec10'),
              (' YouTube and Vimeo Movies ', 3, None, '___sec11'),
              (' Animation Based on Filename Generators ',
               3,
               None,
               '___sec12'),
              (' Copying Computer Code from Source Files ',
               2,
               None,
               '___sec13'),
              (' Inserting the Output from Operating System Commands ',
               2,
               None,
               '___sec14'),
              (' Comments ', 2, None, '___sec15'),
              (' Tables ', 2, None, '___sec16'),
              (' Basic Syntax ', 3, None, '___sec17'),
              (' Tables to/from CSV Data Files ', 3, None, '___sec18'),
              (' Lists ', 2, None, '___sec19'),
              (' Inline Tagging ', 1, 'inline:tagging', 'inline:tagging'),
              (' Emphasized Words ', 2, None, '___sec21'),
              (' Inline Verbatim Text ', 2, None, '___sec22'),
              (' Links to Web Addresses ', 2, None, '___sec23'),
              (' Links to Mail Addresses ', 2, None, '___sec24'),
              (' Links to Local Files ', 2, None, '___sec25'),
              (' Quotes ', 2, None, '___sec26'),
              (' Non-Breaking Space ', 2, None, '___sec27'),
              (' Horizontal rule ', 2, None, '___sec28'),
              (' Em-dash ', 2, None, '___sec29'),
              (' Ampersand ', 2, None, '___sec30'),
              (' Footnotes ', 2, None, '___sec31'),
              (' Inline Comments ', 2, None, '___sec32'),
              (' Inline Comments for Editing ', 2, None, '___sec33'),
              (' Forced Line Breaks ', 2, None, '___sec34'),
              (' Inline Mathematics ', 2, None, '___sec35'),
              (' Cross-Referencing ', 2, None, '___sec36'),
              (' Generalized Cross-Referencing ',
               2,
               'manual:genrefs',
               'manual:genrefs'),
              (' A Worked Example ', 3, None, '___sec38'),
              (' Index ', 2, None, '___sec39'),
              (' Emojis ', 2, None, '___sec40'),
              (' Environments ', 1, None, '___sec41'),
              (' Exercises, Problems, Projects, and Examples ',
               2,
               None,
               '___sec42'),
              (' List of Exercises, Problems, and Projects ',
               3,
               None,
               '___sec43'),
              (' Blocks of Verbatim Computer Code ',
               2,
               'sec:verbatim:blocks',
               'sec:verbatim:blocks'),
              (' Typesetting Styles ', 3, None, '___sec45'),
              (' Copying Code from Source Files ', 3, None, '___sec46'),
              (' The `fromto` and `from-to` directives ',
               3,
               None,
               '___sec47'),
              (' LaTeX Blocks of Mathematical Text ',
               2,
               'mathtext',
               'mathtext'),
              (' Support of LaTeX Math in Various Output Formats ',
               3,
               None,
               '___sec49'),
              (' Dealing with Mathematics in Formats without LaTeX Math Support ',
               3,
               None,
               '___sec50'),
              (' Mathematics for PowerPoint/OpenOffice ',
               3,
               None,
               '___sec51'),
              (' Macros (Newcommands) ', 2, 'newcommands', 'newcommands'),
              (' Guidelines for LaTeX Writers ', 2, None, '___sec53'),
              (' Typesetting of Algorithms ', 2, None, '___sec54'),
              (' Admonitions ', 2, None, '___sec55'),
              (' Examples on Admonition Types ', 3, None, '___sec56'),
              (' Layout of admonitions in HTML ', 3, None, '___sec57'),
              (' Layout of admonitions in LaTeX ', 3, None, '___sec58'),
              (' LaTeX code environments inside admonitions ',
               3,
               None,
               '___sec59'),
              (' The Box Environment ', 3, None, '___sec60'),
              (' Bibliography (References) ', 1, None, '___sec61'),
              (' Importing your data to the Publish database ',
               2,
               None,
               '___sec62'),
              (' Requirements to input data ', 2, None, '___sec63'),
              (' Adding new references to the database ',
               2,
               None,
               '___sec64'),
              (' Exporting the database ', 2, None, '___sec65'),
              (' Referring to publications ', 2, None, '___sec66'),
              (' Specifying the Publish database ', 2, None, '___sec67'),
              (' LaTeX Bibliography Style ', 2, None, '___sec68'),
              (' Preprocessing and Postprocessing ', 1, None, '___sec69'),
              (' The Preprocess and Mako Preprocessors ',
               2,
               None,
               '___sec70'),
              (' Splitting Documents into Smaller Pieces ',
               2,
               None,
               '___sec71'),
              (' Writing Slides ', 1, None, '___sec72'),
              (' Overview ', 2, None, '___sec73'),
              (' Slide Elements ', 2, None, '___sec74'),
              (' Title page ', 3, None, '___sec75'),
              (' Parts Page ', 3, None, '___sec76'),
              (' Standard bullet list page ', 3, None, '___sec77'),
              (' Equations, movies, figures ', 3, None, '___sec78'),
              (' HTML5 Slides ', 2, None, '___sec79'),
              (' Potential Problems ', 3, None, '___sec80'),
              (' LaTeX Beamer Slides ', 2, None, '___sec81'),
              (' Themes ', 3, None, '___sec82'),
              (' Pop of items and blocks ', 3, None, '___sec83'),
              (' Compilation ', 3, None, '___sec84'),
              (' Misc ', 1, None, '___sec85'),
              (' Missing Features ', 2, None, '___sec86'),
              (' Emacs DocOnce Formatter ',
               2,
               'emacs:doconce',
               'emacs:doconce'),
              (' Mako Programming ', 1, 'manual:mako', 'manual:mako'),
              (' The Basics of Mako ', 2, None, '___sec89'),
              (' Debugging Python code in Mako ',
               2,
               'mako:py:debugging',
               'mako:py:debugging'),
              (' Example: Executing Python and using SymPy Objects in LaTeX ',
               2,
               None,
               '___sec91'),
              (' Example: Extending Tables to Handle Figures ',
               2,
               'manual:tables:wfigs',
               'manual:tables:wfigs'),
              (' Solution for LaTeX and HTML ', 3, None, '___sec93'),
              (' Generating the Entire Table ', 3, None, '___sec94'),
              (' Generating the Entire Table in a Native Format via Mako ',
               3,
               None,
               '___sec95'),
              (' Generating the Entire Table in a Native Format as a Post Process ',
               3,
               None,
               '___sec96'),
              (' Example: Defining a Theorem Environment ',
               2,
               'manual:theorem:envir',
               'manual:theorem:envir'),
              (' Tools for Writing DocOnce Documents ', 2, None, '___sec98'),
              (' Debugging ', 2, None, '___sec99'),
              (' From DocOnce to Other Formats ',
               1,
               'doconce2formats',
               'doconce2formats'),
              (' Generating a makefile ', 2, None, '___sec101'),
              (' Preprocessing ', 2, None, '___sec102'),
              (' Removal of inline comments ', 2, None, '___sec103'),
              (' Notes ', 2, None, '___sec104'),
              (' Demo of different formats ', 2, None, '___sec105'),
              (' HTML ', 2, None, '___sec106'),
              (' Basics ', 3, None, '___sec107'),
              (' Typesetting of Code ', 3, None, '___sec108'),
              (' Handling of Movies ', 3, None, '___sec109'),
              (' HTML Styles ', 3, None, '___sec110'),
              (' HTML templates ', 3, None, '___sec111'),
              (' The HTML File Collection ', 3, None, '___sec112'),
              (' Filenames ', 3, None, '___sec113'),
              (' Blog Posts ', 2, None, '___sec114'),
              (' Pandoc and Markdown ', 2, None, '___sec115'),
              (' Markdown to HTML conversion ', 3, None, '___sec116'),
              (' Using Pandoc to go from LaTeX to MS Word or HTML ',
               3,
               None,
               '___sec117'),
              (' Strict Markdown ', 3, None, '___sec118'),
              (' GitHub-flavored Markdown ', 3, None, '___sec119'),
              (' MultiMarkdown ', 3, None, '___sec120'),
              (' Strapdown rendering of Markdown text ',
               3,
               None,
               '___sec121'),
              (' LaTeX ', 2, None, '___sec122'),
              (' PDFLaTeX ', 2, None, '___sec123'),
              (' XeLaTeX ', 2, None, '___sec124'),
              (' From PDF to e-book formats ', 2, None, '___sec125'),
              (' Microsoft Word or LibreOffice ', 2, None, '___sec126'),
              (' Plain ASCII Text ', 2, None, '___sec127'),
              (' reStructuredText ', 2, None, '___sec128'),
              (' Sphinx ', 2, None, '___sec129'),
              (' The manual Sphinx procedure ', 3, None, '___sec130'),
              (' Wiki Formats ', 2, None, '___sec131'),
              (' Google Docs ', 2, None, '___sec132'),
              (' Tweaking the DocOnce Output ', 2, None, '___sec133'),
              (' Options for the `doconce` commands ', 1, None, '___sec134'),
              (' `doconce format` command-line options ',
               2,
               None,
               '___sec135'),
              (' Installation of DocOnce and its Dependencies ',
               1,
               'install:doconce',
               'install:doconce'),
              (' DocOnce ', 2, None, '___sec137'),
              (' Dependencies ', 2, None, '___sec138'),
              (' Preprocessors ', 3, None, '___sec139'),
              (' Image file handling ', 3, None, '___sec140'),
              (' Spellcheck ', 3, None, '___sec141'),
              (' Bibliography ', 3, None, '___sec142'),
              (' Ptex2tex for LaTeX Output ', 3, None, '___sec143'),
              (' LaTeX packages ', 3, None, '___sec144'),
              (' reStructuredText (reST) Output ', 3, None, '___sec145'),
              (' Sphinx Output ', 3, None, '___sec146'),
              (' Markdown and Pandoc Output ', 3, None, '___sec147'),
              (' Epydoc Output ', 3, None, '___sec148'),
              (' Analyzing file differences ', 3, None, '___sec149'),
              (' Quick Debian/Ubuntu Install ',
               2,
               'install:debian:script',
               'install:debian:script'),
              (' Basic Parsing Ideas ', 1, None, '___sec151'),
              (' Typesetting of Function Arguments, Return Values, and Variables ',
               2,
               None,
               '___sec152'),
              (' References ', 1, None, '___sec153')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="manual.html">DocOnce Description</a>
  </div>
  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="._manual000.html#what:is:doconce" style="font-size: 80%;">What Is DocOnce?</a></li>
     <!-- navigation toc: --> <li><a href="._manual003.html#___sec2" style="font-size: 80%;">Markup Based on Special Lines</a></li>
     <!-- navigation toc: --> <li><a href="._manual010.html#inline:tagging" style="font-size: 80%;">Inline Tagging</a></li>
     <!-- navigation toc: --> <li><a href="._manual013.html#___sec41" style="font-size: 80%;">Environments</a></li>
     <!-- navigation toc: --> <li><a href="._manual017.html#___sec61" style="font-size: 80%;">Bibliography (References)</a></li>
     <!-- navigation toc: --> <li><a href="._manual018.html#___sec69" style="font-size: 80%;">Preprocessing and Postprocessing</a></li>
     <!-- navigation toc: --> <li><a href="._manual020.html#___sec72" style="font-size: 80%;">Writing Slides</a></li>
     <!-- navigation toc: --> <li><a href="._manual022.html#___sec85" style="font-size: 80%;">Misc</a></li>
     <!-- navigation toc: --> <li><a href="._manual023.html#manual:mako" style="font-size: 80%;">Mako Programming</a></li>
     <!-- navigation toc: --> <li><a href="._manual028.html#doconce2formats" style="font-size: 80%;">From DocOnce to Other Formats</a></li>
     <!-- navigation toc: --> <li><a href="._manual028.html#___sec134" style="font-size: 80%;">Options for the `doconce` commands</a></li>
     <!-- navigation toc: --> <li><a href="#install:doconce" style="font-size: 80%;">Installation of DocOnce and its Dependencies</a></li>
     <!-- navigation toc: --> <li><a href="#___sec151" style="font-size: 80%;">Basic Parsing Ideas</a></li>
     <!-- navigation toc: --> <li><a href="#___sec153" style="font-size: 80%;">References</a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<a name="part0029"></a>
<!-- !split -->

<h1 id="install:doconce">Installation of DocOnce and its Dependencies<a name="install:doconce"></a></h1>

<p>
Below, we explain the manual installation of all software that may be
needed when working with DocOnce documents.
The impatient way to install what is needed on a Debian-based Linux
computer (running, e.g., Ubuntu) is to run the
<a href="https://raw.githubusercontent.com/hplgit/doconce/master/doc/src/manual/install_doconce.sh" target="_self"><tt>install_doconce.sh</tt></a> (or
<a href="https://raw.githubusercontent.com/hplgit/doconce/master/doc/src/manual/install_doconce.py" target="_self"><tt>install_doconce.py</tt></a>) script.

<h2 id="___sec137">DocOnce <a name="___sec137"></a></h2>

<p>
DocOnce itself is pure Python code hosted at <a href="https://github.com/hplgit/doconce" target="_self"><tt>https://github.com/hplgit/doconce</tt></a>.
Installation can be done via

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo pip install -e git+https://github.com/hplgit/doconce#egg=doconce
# or if doconce is already installed
sudo pip install -e git+https://github.com/hplgit/doconce#egg=doconce --upgrade
</pre></div>
<p>
Alternatively, one can run the standard procedure

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">git clone git@github.com:hplgit/doconce.git
cd doconce
sudo python setup.py install
cd ..
</pre></div>
<p>
Since DocOnce is frequently updated, it is recommended to use the
above procedure and whenever a problem occurs, make sure to
update to the most recent version:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">cd doconce
git pull origin master
sudo python setup.py install
</pre></div>

<h2 id="___sec138">Dependencies <a name="___sec138"></a></h2>

<p>
Producing HTML documents, plain text, pandoc-extended Markdown,
and wikis can be done without installing any other
software. However, if you want other formats as output
(LaTeX, Sphinx, reStructuredText) and assisting utilities such
as preprocesors, spellcheck, file differences, bibliographies,
and so on, the software below must be installed.

<p>
To install all needed packages on a GNU/Linux Debian system, such as
Ubuntu, you can jump to the script in the section <a href="#install:debian:script">Quick Debian/Ubuntu Install</a>.

<p>
<!-- Make a debpkg_doconce.txt file with everything that is needed on Debian -->

<h3 id="___sec139">Preprocessors <a name="___sec139"></a></h3>

<p>
If you make use of the <a href="http://code.google.com/p/preprocess" target="_self">Preprocess</a>
preprocessor, this program must be installed:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">svn checkout http://preprocess.googlecode.com/svn/trunk/ preprocess
cd preprocess
cd doconce
sudo python setup.py install
cd ..
</pre></div>
<p>
A much more advanced alternative to Preprocess is
<a href="http://www.makotemplates.org" target="_self">Mako</a>. Its installation is most
conveniently done by <code>pip</code>,

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">pip install Mako
</pre></div>
<p>
This command requires <code>pip</code> to be installed. On Debian Linux systems,
such as Ubuntu, the installation is simply done by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo apt-get install python-pip
</pre></div>
<p>
Alternatively, one can install from the <code>pip</code> <a href="http://pypi.python.org/pypi/pip" target="_self">source code</a>.

<p>
Mako can also be installed directly from
<a href="http://www.makotemplates.org/download.html" target="_self">source</a>: download the
tarball, pack it out, go to the directory and run
the usual <code>sudo python setup.py install</code>.

<h3 id="___sec140">Image file handling <a name="___sec140"></a></h3>

<p>
Different output formats require different formats of image files.
For example, PostScript or Encapuslated PostScript is required for
<code>latex</code> output, while HTML needs JPEG, GIF, or PNG formats.  DocOnce
calls up programs from the ImageMagick suite for converting image
files to a proper format if needed. The <a href="http://www.imagemagick.org/script/index.php" target="_self">ImageMagick suite</a> can be installed on all
major platforms.  On Debian Linux (including Ubuntu) systems one can
simply write

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo apt-get install imagemagick
</pre></div>
<p>
The convenience program <code>doconce combine_images</code>, for combining several
images into one, will use <code>montage</code> and <code>convert</code> from ImageMagick and
the <code>pdftk</code>, <code>pdfnup</code>, and <code>pdfcrop</code> programs from the <code>texlive-extra-utils</code>
Debian package. The latter gets installed by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo apt-get install texlive-extra-utils
</pre></div>
<p>
Automatic image conversion from EPS to PDF calls up <code>epstopdf</code>, which
can be installed by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo apt-get install texlive-font-utils
</pre></div>

<h3 id="___sec141">Spellcheck <a name="___sec141"></a></h3>

<p>
The utility <code>doconce spellcheck</code> applies the <code>ispell</code> program for
spellcheck. On Debian (including Ubuntu) it is installed by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo apt-get install ispell
</pre></div>

<h3 id="___sec142">Bibliography <a name="___sec142"></a></h3>

<p>
The Python package <a href="https://bitbucket.org/logg/publish" target="_self">Publish</a> is needed if you use a bibliography
in your document. On the website, click on <em>Clone</em>, copy the
command and run it:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">hg clone https://bitbucket.org/logg/publish
</pre></div>
<p>
Thereafter go to the <code>publish</code> directory and run the <code>setup.py</code> script
for installing Publish:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">cd publish
sudo python setup.py
</pre></div>

<h3 id="___sec143">Ptex2tex for LaTeX Output <a name="___sec143"></a></h3>

<p>
To make LaTeX documents with very flexible choice of typesetting of
verbatim code blocks you need <a href="http://code.google.com/p/ptex2tex" target="_self">ptex2tex</a>,
which is installed by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">svn checkout http://ptex2tex.googlecode.com/svn/trunk/ ptex2tex
cd ptex2tex
sudo python setup.py install
</pre></div>
<p>
It may happen that you need additional style files, you can run
a script, <code>cp2texmf.sh</code>:

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">cd latex
sh cp2texmf.sh  # copy stylefiles to ~/texmf directory
cd ../..
</pre></div>
<p>
This script copies some special stylefiles that
that <code>ptex2tex</code> potentially makes use of. Some more standard stylefiles
are also needed. These are installed by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo apt-get install texlive
</pre></div>
<p>
on Debian Linux (including Ubuntu) systems. TeXShop on Mac comes with
the necessary stylefiles (if not, they can be found by googling and installed
manually in the <code>~/texmf/tex/latex/misc</code> directory).

<p>
Note that the <code>doconce ptex2tex</code> command, which needs no installation
beyond DocOnce itself, can be used as a simpler alternative to the <code>ptex2tex</code>
program.

<p>
The <em>minted</em> LaTeX style is offered by <code>ptex2tex</code> and <code>doconce ptext2tex</code>
and popular among many
users. This style requires the package <a href="http://pygments.org" target="_self">Pygments</a>
to be installed. On Debian Linux,
<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo apt-get install python-pygments
</pre></div>
<p>
Alternatively, the package can be installed manually:
<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">hg clone ssh://hg@bitbucket.org/birkenfeld/pygments-main pygments
cd pygments
sudo python setup.py install
</pre></div>
<p>
One can also do the simple

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">pip install sphinx
</pre></div>
<p>
which also installs pygments.

<p>
If you use the minted style together with <code>ptex2tex</code>, you have to
enable it by the <code>-DMINTED</code> command-line argument to <code>ptex2tex</code>.
This is not necessary if you run the alternative <code>doconce ptex2tex</code> program.

<p>
All use of the minted style requires the <code>-shell-escape</code> command-line
argument when running LaTeX, i.e., <code>latex -shell-escape</code> or <code>pdflatex
-shell-escape</code>.

<p>
Inline comments apply the <code>todonotes</code> LaTeX package if the option
<code>--latex_todonotes</code> is given.  The <code>todonotes</code> package requires
several other packages: <code>xcolor</code>, <code>ifthen</code>, <code>xkeyval</code>, <code>tikz</code>, <code>calc</code>,
<code>graphicx</code>, and <code>setspace</code>. The relevant Debian packages for
installing all this are listed below.

<h3 id="___sec144">LaTeX packages <a name="___sec144"></a></h3>

<p>
Many LaTeX packages are potentially needed (depending on various
preprocessor variables given to <code>ptex2tex</code> or <code>doconce ptex2tex</code>.  The
standard packages always included are <code>relsize</code>, <code>epsfig</code>, <code>makeidx</code>,
<code>setspace</code>, <code>color</code>, <code>amsmath</code>, <code>amsfonts</code>, <code>xcolor</code>, <code>bm</code>,
<code>microtype</code>, <code>titlesec</code>, and <code>hyperref</code>.  The <code>ptex2tex</code> package (from
<a href="http://code.google.com/p/ptex2tex" target="_self">ptex2tex</a>) is also included, but
removed again if <code>doconce ptex2tex</code> is run instead of the <code>ptex2tex</code>
program, meaning that if you do not use <code>ptex2tex</code>, you do not need
<code>ptex2tex.sty</code>. Optional packages that might be included are <code>minted</code>,
<code>fontspec</code>, <code>xunicode</code>, <code>inputenc</code>, <code>helvet</code>, <code>mathpazo</code>, <code>wrapfig</code>,
<code>calc</code>, <code>ifthen</code>, <code>xkeyval</code>, <code>tikz</code>, <code>graphicx</code>, <code>setspace</code>, <code>shadow</code>,
<code>disable</code>, <code>todonotes</code>, <code>lineno</code>, <code>xr</code>, <code>framed</code>, <code>mdframe</code>,
<code>movie15</code>, <code>a4paper</code>, and <code>a6paper</code>.

<p>
Relevant Debian packages that gives you all of these LaTeX packages are

<p>

<!-- code=text typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">texlive
texlive-extra-utils
texlive-latex-extra
texlive-font-utils
</pre></div>
<p>
On old Ubuntu 12.04 one has to do <code>sudo add-apt-repository ppa:texlive-backports/ppa</code> and <code>sudo apt-get update</code> first, or alternatively install these as well:

<p>

<!-- code=text typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">texlive-math-extra
texlive-bibtex-extra
texlive-xetex
texlive-humanities
texlive-pictures
</pre></div>
<p>
Alternatively, one may pull in <code>texlive-full</code> to get all available
style files.

<p>
If you want to use the <em>anslistings</em> code environment with <code>ptex2tex</code>
(<code>.ptex2tex.cfg</code> styles <code>Python_ANS</code>, <code>Python_ANSt</code>, <code>Cpp_ANS</code>, etc.) or
<code>doconce ptex2tex</code> (<code>envir=ans</code> or <code>envir=ans:nt</code>), you need the
<code>anslistings.sty</code> file. It can be obtained from
the <a href="https://code.google.com/p/ptex2tex/source/browse/trunk/latex/styles/with_license/anslistings.sty" target="_self">ptex2tex source</a>. It should get installed
by the <code>cp2texmf.sh</code> script executed above.

<h3 id="___sec145">reStructuredText (reST) Output <a name="___sec145"></a></h3>

<p>
The <code>rst</code> output from DocOnce allows further transformation to LaTeX,
HTML, XML, OpenOffice, and so on, through the <a href="http://docutils.sourceforge.net" target="_self">docutils</a> package.  The installation of the
most recent version can be done by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">svn checkout \
  http://docutils.svn.sourceforge.net/svnroot/docutils/trunk/docutils
cd docutils
sudo python setup.py install
cd ..
</pre></div>
<p>
The command

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">pip install sphinx
</pre></div>
<p>
installs Docutils along with Sphinx and Pygments.

<p>
To use the OpenOffice suite you will typically on Debian systems install
<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo apt-get install unovonv libreoffice libreoffice-dmaths
</pre></div>
<p>
There is a possibility to create PDF files from reST documents
using ReportLab instead of LaTeX. The enabling software is
<a href="http://code.google.com/p/rst2pdf" target="_self">rst2pdf</a>. Either download the tarball
or clone the svn repository, go to the <code>rst2pdf</code> directory and
run the usual <code>sudo python setup.py install</code>.

<h3 id="___sec146">Sphinx Output <a name="___sec146"></a></h3>

<p>
Output to <code>sphinx</code> requires of course the
<a href="http://sphinx.pocoo.org" target="_self">Sphinx software</a>,
installed by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">hg clone https://bitbucket.org/birkenfeld/sphinx
cd sphinx
sudo python setup.py install
cd ..
</pre></div>
<p>
An alternative is

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">pip install sphinx
</pre></div>
<p>
DocOnce comes with many Sphinx themes that are not part of the
standard Sphinx source distribution. Some of these themes require
additional Python/Sphinx modules to be installed:

<ul>
 <li> cloud and redcloud: <a href="https://bitbucket.org/ecollins/cloud_sptheme" target="_self"><tt>https://bitbucket.org/ecollins/cloud_sptheme</tt></a></li>
 <li> bootstrap: <a href="https://github.com/ryan-roemer/sphinx-bootstrap-theme" target="_self"><tt>https://github.com/ryan-roemer/sphinx-bootstrap-theme</tt></a></li>
 <li> solarized: <a href="https://bitbucket.org/miiton/sphinxjp.themes.solarized" target="_self"><tt>https://bitbucket.org/miiton/sphinxjp.themes.solarized</tt></a></li>
 <li> impressjs: <a href="https://github.com/shkumagai/sphinxjp.themes.impressjs" target="_self"><tt>https://github.com/shkumagai/sphinxjp.themes.impressjs</tt></a></li>
 <li> sagecellserver: <a href="https://github.com/kriskda/sphinx-sagecell" target="_self"><tt>https://github.com/kriskda/sphinx-sagecell</tt></a></li>
</ul>

These must be downloaded or cloned, and <code>setup.py</code> must be run as shown
above.

<h3 id="___sec147">Markdown and Pandoc Output <a name="___sec147"></a></h3>

<p>
The DocOnce format <code>pandoc</code> outputs the document in the Pandoc
extended Markdown format, which via the <code>pandoc</code> program can be
translated to a range of other formats. Installation of <a href="http://johnmacfarlane.net/pandoc/" target="_self">Pandoc</a>, written in Haskell, is most
easily done by

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">sudo apt-get install pandoc
</pre></div>
<p>
on Debian (Ubuntu) systems.

<h3 id="___sec148">Epydoc Output <a name="___sec148"></a></h3>

<p>
When the output format is <code>epydoc</code> one needs that program too, installed
by
<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">svn co https://epydoc.svn.sourceforge.net/svnroot/epydoc/trunk/epydoc epydoc
cd epydoc
sudo make install
cd ..
</pre></div>
<p>
<b>Remark.</b>
Several of the packages above installed from source code
are also available in Debian-based system through the
<code>apt-get install</code> command. However, we recommend installation directly
from the version control system repository as there might be important
updates and bug fixes. For <code>svn</code> directories, go to the directory,
run <code>svn update</code>, and then <code>sudo python setup.py install</code>. For
Mercurial (<code>hg</code>) directories, go to the directory, run
<code>hg pull; hg update</code>, and then <code>sudo python setup.py install</code>.

<h3 id="___sec149">Analyzing file differences <a name="___sec149"></a></h3>

<p>
The <code>doconce diff file1 file prog</code> command for illustrating differences between
two files <code>file1</code> and <code>file2</code> using the program <code>prog</code> requires <code>prog</code>
to be installed. By default, <code>prog</code> is <code>difflib</code> which comes with Python
and is always present if you have DocOnce installed. Another choice, <code>diff</code>,
should be available on all Unix/Linux systems. Other choices, their
URL, and their <code>sudo apt-get install</code> command on Debian (Ubuntu) systems
appear in the table below.

<p>

<div class="row">
  <div class="col-xs-12">
    <table class="table table-striped table-hover table-condensed">
<thead>
<tr><td align="center"><b>        Program        </b></td> <td align="center"><b>                                                                   URL                                                                   </b></td> <td align="center"><b>                                  Debian/Ubuntu install                                   </b></td> </tr>
</thead>
<tbody>
<tr><td align="left">   <code>pdiff</code>         </td> <td align="left">   <a href="http://www.gnu.org/software/a2ps/" target="_self">a2ps</a> <a href="http://www.gnu.org/software/wdiff/" target="_self">wdiff</a>    </td> <td align="left">   <code>sudo apt-get install a2ps wdiff texlive-latex-extra texlive-latex-recommended</code>    </td> </tr>
<tr><td align="left">   <code>latexdiff</code>     </td> <td align="left">   <a href="http://www.ctan.org/pkg/latexdiff" target="_self">latexdiff</a>                                                                     </td> <td align="left">   <code>sudo apt-get install latexdiff</code>                                                   </td> </tr>
<tr><td align="left">   <code>kdiff3</code>        </td> <td align="left">   <a href="http://kdiff3.sourceforge.net/" target="_self">kdiff3</a>                                                                           </td> <td align="left">   <code>sudo apt-get install kdiff3</code>                                                      </td> </tr>
<tr><td align="left">   <code>diffuse</code>       </td> <td align="left">   <a href="http://diffuse.sourceforge.net/" target="_self">diffuse</a>                                                                         </td> <td align="left">   <code>sudo apt-get install diffuse</code>                                                     </td> </tr>
<tr><td align="left">   <code>xxdiff</code>        </td> <td align="left">   <a href="http://xxdiff.sourceforge.net/local/" target="_self">xxdiff</a>                                                                     </td> <td align="left">   <code>sudo apt-get install xxdiff</code>                                                      </td> </tr>
<tr><td align="left">   <code>meld</code>          </td> <td align="left">   <a href="http://meldmerge.org/" target="_self">meld</a>                                                                                      </td> <td align="left">   <code>sudo apt-get install meld</code>                                                        </td> </tr>
<tr><td align="left">   <code>tkdiff.tcl</code>    </td> <td align="left">   <a href="https://sourceforge.net/projects/tkdiff/" target="_self">tkdiff</a>                                                                 </td> <td align="left">   not in Debian                                                                                 </td> </tr>
</tbody>
    </table>
  </div>
</div> <!-- col-xs-12 -->

<h2 id="install:debian:script">Quick Debian/Ubuntu Install<a name="install:debian:script"></a></h2>

<p>
On Debian (including Ubuntu) systems, it is straightforward to install the
long series of DocOnce dependencies:

<p>

<!-- code=text typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"># Version control systems
sudo apt-get install -y mercurial git subversion

# Python
sudo apt-get install -y idle ipython python-pip python-pdftools texinfo

# LaTeX
sudo apt-get install -y texlive texlive-extra-utils texlive-latex-extra texlive-math-extra texlive-font-utils
# or sudo apt-get install -y texlive-full  # get everything
sudo apt-get install -y latexdiff auctex

# Image and movie tools
sudo apt-get install -y imagemagick netpbm mjpegtools pdftk giftrans gv libav-tools libavcodec-extra-53 libx264-dev ffmpeg mencoder evince mplayer gnome-mplayer totem vlc browser-plugin-vlc

# Misc
sudo apt-get install -y ispell pandoc libreoffice unoconv libreoffice-dmaths curl a2ps wdiff meld xxdiff diffpdf kdiff3 diffuse

# More Python software
sudo pip install sphinx  # install pygments and docutils too
sudo pip install mako
sudo pip install -e svn+http://preprocess.googlecode.com/svn/trunk#egg=preprocess
sudo pip install -e hg+https://bitbucket.org/logg/publish#egg=publish

sudo pip install -e hg+https://bitbucket.org/ecollins/cloud_sptheme#egg=cloud_sptheme
sudo pip install -e git+https://github.com/ryan-roemer/sphinx-bootstrap-theme#egg=sphinx-bootstrap-theme
sudo pip install -e hg+https://bitbucket.org/miiton/sphinxjp.themes.solarized#egg=sphinxjp.themes.solarized
sudo pip install -e git+https://github.com/shkumagai/sphinxjp.themes.impressjs#egg=sphinxjp.themes.impressjs
sudo pip install -e git+https://github.com/kriskda/sphinx-sagecell#egg=sphinx-sagecell
sudo pip install -e svn+https://epydoc.svn.sourceforge.net/svnroot/epydoc/trunk/epydoc#egg=epydoc

# DocOnce itself
rm -rf srclib   # put downloaded software in srclib
mkdir srclib
cd srclib
git clone git@github.com:hplgit/doconce.git
cd doconce
sudo python setup.py install -y
cd ../..

# Ptex2tex
cd srclib
svn checkout http://ptex2tex.googlecode.com/svn/trunk/ ptex2tex
cd ptex2tex
sudo python setup.py install -y
cd latex
sh cp2texmf.sh  # copy stylefiles to ~/texmf directory
cd ../../..
</pre></div>

<h1 id="___sec151">Basic Parsing Ideas <a name="___sec151"></a></h1>

<p>
<!-- avoid list here since we have code in between (never a good idea) -->

<p>
The (parts of) files with computer code to be directly included in
the document are first copied into verbatim blocks.

<p>
All verbatim and TeX blocks are removed and stored elsewhere
to ensure that no formatting rules are not applied to these blocks.

<p>
The text is examined line by line for typesetting of lists, as well as
handling of blank lines and comment lines.  List parsing needs some
awareness of the context.  Each line is interpreted by a regular
expression

<p>

<!-- code=doconce (!bc do) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">(?P&lt;indent&gt; *(?P&lt;listtype&gt;[*o-] )? *)(?P&lt;keyword&gt;[^:]+?:)?(?P&lt;text&gt;.*)\s?
</pre></div>
<p>
That is, a possible indent (which we measure), an optional list
item identifier, optional space, optional words ended by colon,
and optional text. All lines are of this form. However, some
ordinary (non-list) lines may contain a colon, and then the keyword
and text group must be added to get the line contents. Otherwise,
the text group will be the line.

<p>
When lists are typeset, the text is examined for sections, paragraphs,
title, author, date, plus all the inline tags for emphasized, boldface,
and verbatim text. Plain subsitutions based on regular expressions
are used for this purpose.

<p>
The final step is to insert the code and TeX blocks again (these should
be untouched and are therefore left out of the previous parsing).

<p>
It is important to keep the DocOnce format and parsing simple.  When a
new format is needed and this format is not obtained by a simple edit
of the definition of existing formats, it might be better to convert
the document to reST and then to XML, parse the XML and
write out in the new format.  When the DocOnce format is not
sufficient to getting the layout you want, it is suggested to filter
the document to another, more complex format, say reST or
LaTeX, and work further on the document in this format.

<h2 id="___sec152">Typesetting of Function Arguments, Return Values, and Variables <a name="___sec152"></a></h2>

<p>
<div class="alert alert-block alert-success alert-text-normal"><b>Note.</b>
This text is somewhat outdated.
Now DocOnce supports NumPy-style docstrings. DocOnce can also do
automatic references to Python documentation, say the `math`
module, but the link only works in case of Sphinx output.
Typical syntax is

<p>

<!-- code=doconce (!bc do) typeset with pygments style "default" -->
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%">With :mod:`numpy` and the :func:`scipy.io.loadmat` function in
the :mod:`scipy.io` module, we can ...
</pre></div>
<p>
In case of ambiguous names, say a local <code>math</code> module, one can
use <code>python</code>, <code>numpy</code>, <code>scipy</code>, and <code>mpl</code> (matplotlib) as prefix
(as defined in <code>conf.py</code>, generated by the <code>doconce sphinx_dir</code>):

<p>

<!-- code=doconce (!bc do) typeset with pygments style "default" -->
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%">With :func:`python:math.sin` instead of :func:`math.sin` ...
</pre></div>
<p>
(More info in the Sphinx API doc by the author - under development.)

<p>
A Mako function can provide greater flexibility such that
other formats than Sphinx can take advantage of such references
(full URL can be built into the function, depending on the format).
</div>


<p>
<blockquote>
    As part of comments (or doc strings) in computer code one often wishes
    to explain what a function takes of arguments and what the return
    values are. Similarly, it is desired to document class, instance, and
    module variables.  Such arguments/variables can be typeset as
    description lists of the form listed below and <em>placed at the end of
    the doc string</em>. Note that <code>argument</code>, <code>keyword argument</code>, <code>return</code>,
    <code>instance variable</code>, <code>class variable</code>, and <code>module variable</code> are the
    only legal keywords (descriptions) for the description list in this
    context.  If the output format is Epytext (Epydoc) or Sphinx, such lists of
    arguments and variables are nicely formatted.
    
    <p>
    
    <!-- code=text typeset with pygments style "default" -->
    <div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">    - argument x: x value (float),
          which must be a positive number.
        - keyword argument tolerance: tolerance (float) for stopping
          the iterations.
        - return: the root of the equation (float), if found, otherwise None.
        - instance variable eta: surface elevation (array).
        - class variable items: the total number of MyClass objects (int).
        - module variable debug: True: debug mode is on; False: no debugging
          (bool variable).
    </pre></div>
    <p>
    The result depends on the output format: all formats except Epytext
    and Sphinx just typeset the list as a list with keywords.
    
    <p>
    
    <dl>
        <dt><b>module variable</b> x:<dd> 
          x value (float),
          which must be a positive number.
        <dt><b>module variable</b> tolerance:<dd> 
          tolerance (float) for stopping
          the iterations.
    </dl>
</blockquote>


<h1 id="___sec153">References <a name="___sec153"></a></h1>

<p>
<div class="alert alert-block alert-danger alert-text-normal"><b>Note.</b>
The references below are just for illustrating and testing citation
syntax and not references for explaining parts of the text.
</div>


<p>
<!-- begin bibliography -->

<ol>
 <li> <a name="Knuth85"></a> <b>D. E. Knuth</b>. 
    Theory and Practice,
    <em>EATCS Bulletin</em>,
    27,
    pp. 14-21,
    1985.</li>
 <li> <a name="eqs_doc_2008"></a> <b>T. H. E. Author</b>. 
    Some Equations,
    2008.</li>
 <li> <a name="DocOnce:test"></a> <b>H. P. Langtangen</b>. 
    A Document for Testing DocOnce,
    <a href="http://hplgit.github.io/doconce/test/demo_testdoc.html" target="_self"><tt>http://hplgit.github.io/doconce/test/demo_testdoc.html</tt></a>.</li>
 <li> <a name="Langtangen_Pedersen_2002"></a> <b>H. P. Langtangen and G. Pedersen</b>. 
    Propagation of Large Destructive Waves,
    <em>International Journal of Applied Mechanics and Engineering</em>,
    7(1),
    pp. 187-204,
    2002.</li>
 <li> <a name="Langtangen_et_al_2002"></a> <b>H. P. Langtangen, K.-A. Mardal and R. Winther</b>. 
    Numerical Methods for Incompressible Viscous Flow,
    <em>Advances in Water Resources</em>,
    25,
    pp. 1125-1146,
    2002.</li>
 <li> <a name="Langtangen_1994a"></a> <b>H. P. Langtangen</b>. 
    Numerical Solution of First Passage Problems in Random Vibrations,
    <em>SIAM Journal of Scientific and Statistical Computing</em>,
    15,
    pp. 997-996,
    1994.</li>
 <li> <a name="Mardal_et_al_2003a"></a> <b>K.-A. Mardal, G. W. Zumbusch and H. P. Langtangen</b>. 
    Software Tools for Multigrid Methods,
    <em>Advanced Topics in Computational Partial Differential Equations -- Numerical Methods and Diffpack Programming</em>,
    edited by <b>H. P. Langtangen and A. Tveito</b>,
    Springer,
    2003.</li>
 <li> <a name="Langtangen_1988d"></a> <b>H. P. Langtangen</b>. 
    The FEMDEQS Program System,
    <em>Department of Mathematics, University of Oslo</em>,
    1989.</li>
</ol>

<!-- end bibliography -->

<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pager">
  <li class="previous">
    <a href="._manual028.html">&larr; Prev</a>
  </li>
</ul>
<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


</body>
</html>
    

