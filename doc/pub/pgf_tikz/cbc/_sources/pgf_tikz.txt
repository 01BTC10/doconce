.. Automatically generated Sphinx-extended reStructuredText file from DocOnce source
   (https://github.com/hplgit/doconce/)

.. Document title:

Testing PGF and TikZ support in DocOnce
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

:Authors: Kristian Gregorius Hustad (krihus at ifi.uio.no)
:Date: Aug 5, 2016

*Summary.* Quick demo of how to make figures with TikZ in DocOnce.

Ideas
=====

`TikZ <http://www.math.uni-leipzig.de/~hellmund/LaTeX/pgf-tut.pdf>`__
is a very strong tool for making figures in LaTeX. DocOnce supports such
figures: if a figure file ``myfig`` exists in a version ``myfig.tikz``,
DocOnce will, in case of ``latex`` or ``pdflatex`` output, utilize the
``myfig.tikz`` figure directly. The problem is what do to with other
output formats. In HTML formats (``html`` and ``sphinx``),
one can use a corresponding SVG version of the figure,
and for more primitive formats, one needs a plain PNG
version. A utility script, ``doconce tikz2fig`` (?), can be used
to convert a TikZ figure to SVG or PNG format:

.. code-block:: text

    Terminal> doconce tikz2fig myfig.tikz

The result is ``myfig.svg`` and ``myfig.png`` to be stored along with ``myfig.tikz``.

A modest beginning
==================

.. _line:

.. figure:: line.png

   This shape is commonly referred to as a *straight line*

The most fundamental shape is the line in Figure :ref:`line`. See the
`source code <https://github.com/hplgit/doconce/blob/master/doc/src/pgf_tikz/fig/line.tikz>`__
for how this TikZ figure is defined in LaTeX.  Such lines can be
combined to form other shapes, e.g., a `square <https://github.com/hplgit/doconce/blob/master/doc/src/pgf_tikz/fig/square.tikz>`__
as in Figure :ref:`square`.

.. _square:

.. figure:: square.png

   *This square is formed by four straight lines*

A `grid <https://github.com/hplgit/doconce/blob/master/doc/src/pgf_tikz/fig/grid.tikz>`__
can also be made from straight lines.

.. figure:: grid.png

   This is a grid with 5 x 5 cells

A circle, however, cannot be formed by a finite number of straight lines.
It requires `special code <https://github.com/hplgit/doconce/blob/master/doc/src/pgf_tikz/fig/circle.tikz>`__.

.. figure:: circle.png

   This circle is drawn in blue with a dashed line

[**kgh 1**: filenames identical to words in the texts have been known to cause problems]
[**hpl 2**: Not anymore?]

More advanced figures
=====================

.. figure:: maze.png

   A `maze <https://github.com/hplgit/doconce/blob/master/doc/src/pgf_tikz/fig/maze.tikz>`__ can be drawn by combining the elements above

.. figure:: graph.png

   TikZ is quite well suited to draw `graphs <https://github.com/hplgit/doconce/blob/master/doc/src/pgf_tikz/fig/graph.tikz>`__

Plotting functions
==================

TikZ can be used to plot functions. The next figure will be inlined.

.. figure:: plot1.png

See the `source code <https://github.com/hplgit/doconce/blob/master/doc/src/pgf_tikz/fig/plot1.tikz>`__ for how you make this figure.

.. figure:: plot2.png

   The functions can even be labeled!

All details are in the `source code <https://github.com/hplgit/doconce/blob/master/doc/src/pgf_tikz/fig/plot2.tikz>`__.
